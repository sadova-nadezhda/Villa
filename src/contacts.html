<!DOCTYPE html>
<html lang="en">
  @@include('html/head.html', { "title": "Контакты" })
  <body>
    @@include('html/header.html')

    <main>
      <section class="contacts section-top section-hidden">
        <div class="container">
          <div class="contacts__container">
            <div class="contacts__heading heading">
              <div class="contacts__subtitle subtitle color-grey">contacts</div>
              <div class="contacts__group">
                <h1 class="contacts__title text-up">свяжитесь с нами</h1>
                <button class="contacts__button button button-border">Оставить заявку</button>
              </div>
            </div>
            <div class="contacts__wrap">
              <div class="contacts__col">

              </div>
              <div class="contacts__map" id="map"></div>
            </div>
          </div>
        </div>
      </section>
    </main>

    @@include('html/footer.html') 
    <script src="https://mapgl.2gis.com/api/js/v1"></script>
    <script>
      const coords = [71.4442653, 51.14839];

      const map = new mapgl.Map('map', {
          center: coords,
          key: '41138baa-6f2f-4f90-9ee2-b6fe198401ee',
          style: '3a554b6f-f666-49d3-bf75-e41a87794d37',
          zoom: 16,
          disableZoomOnScroll: true,
          zoomControl: 'topRight',
          copyright: 'bottomLeft',
      });

      function makeIcon(color = '#ff3b30') {
        const svg = `
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36">
            <circle cx="18" cy="18" r="10" fill="${color}" stroke="white" stroke-width="3"/>
          </svg>`;
        return "data:image/svg+xml;charset=UTF-8," + encodeURIComponent(svg);
      }

      new mapgl.Marker(map, {
        coordinates: coords,
        icon: makeIcon('#1F1D1C'),
      });

      const twoGisUrl = 'https://go.2gis.com/VHAv4';

      new mapgl.Control(
        map,
        `<a href="${twoGisUrl}" target="_blank" rel="noopener"
            style="display:inline-block;padding:8px 10px;background:#fff;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,.15);text-decoration:none;">
            Открыть в 2ГИС
        </a>`,
        { position: 'bottomRight' }
      );
    </script>
    @@include('html/foot.html')
  </body>
</html>
